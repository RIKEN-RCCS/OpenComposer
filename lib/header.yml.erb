---
header:
  _script_location:
    widget:     path
    value:      <%= Dir.home %>
    label:      Script location
    show_files: false
    required:   true

  _script:
    widget:   text
    size :    2
    label:    [Script name, Job name]
    value:    [job.sh, ""]
    required: [true, false]

  <% if @conf.key?("cluster") && @conf["cluster"].size > 1 %>
  _cluster_name:
    widget: select
    label: Cluster name
    required: true
    direction: horizontal
    value: <%= @conf["cluster"].first["name"] %>
    options:
    <% if @path_info == '/Fujitsu_TCS' %>
      <% @conf["cluster"].each do |c| %>
        - [ <%= c["name"] %> ]
      <% end %>
    <% elsif @path_info == '/Grid_Engine' %>
      <% @conf["cluster"].each do |c| %>
        - [ <%= c["name"] %> ]
      <% end %>
    <% elsif @path_info == '/PBS' %>
      <% @conf["cluster"].each do |c| %>
        - [ <%= c["name"] %> ]
      <% end %>
    <% elsif @path_info == '/Slurm' %>
      <% @conf["cluster"].each do |c| %>
        - [ <%= c["name"] %> ]
      <% end %>
    <% else %>
      <% @conf["cluster"].each do |c| %>
        - [ <%= c["name"] %> ]
      <% end %>
    <% end %>
  <% end %>
  
